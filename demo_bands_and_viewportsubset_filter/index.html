<!DOCTYPE html>
<html>
  <head>
    <title>Leaflet GeoTIFF 3</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <div id="map"></div>

    <div id="controls">
      <h2>Leaflet GeoTIFF 3 alpha - pyramid and bounds filtering.</h2>

      <form>
        <p>
          <label>displayMin:
            <input type="number" id="displayMin" value="0" />
          </label><br />
          <label>displayMax:
            <input type="number" id="displayMax" value="100" />
          </label>
        </p>
        <p>
          <label>clampMin:
            <input type="checkbox" id="clampLow" />
          </label>
          <label>clampMax:
            <input type="checkbox" id="clampHigh" />
          </label>
        </p>
        <p>
          <label>
            colorScale:
            <select id="colorScale">
              <option>viridis</option>
              <option>inferno</option>
              <option>turbo</option>
              <option>rainbow</option>
              <option>jet</option>
              <option>hsv</option>
              <option>hot</option>
              <option>cool</option>
              <option>spring</option>
              <option>summer</option>
              <option>winter</option>
              <option>autumn</option>
              <option>bone</option>
              <option>copper</option>
              <option>greys</option>
              <option>yignbu</option>
              <option>greens</option>
              <option>yiorrd</option>
              <option>bluered</option>
              <option>rdbu</option>
              <option>picnic</option>
              <option>portland</option>
              <option>blackbody</option>
              <option>earth</option>
              <option>electric</option>
              <option>magma</option>
              <option>plasma</option>
            </select>
          </label>
        </p>
        <p>
          <button id="getBounds">Zoom to bounds</button>
          <button id="getColorbarOptions">Log getColorbarOptions</button>
        </p>
        <p>
          <label>
            Return band:
            <select id="band">
              <option>0</option>
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
              <option>6</option>
              <option>7</option>
              <option>8</option>
              <option>9</option>
              <option>10</option>
              <option>11</option>
              <option>12</option>
              <option>13</option>
              <option>14</option>
              <option>15</option>
              <option>16</option>
              <option>17</option>
              <option>18</option>
              <option>19</option>
              <option>20</option>
              <option>21</option>
              <option>22</option>
              <option>23</option>
              <option>24</option>
              <option>25</option>
              <option>26</option>
              <option>27</option>
              <option>28</option>
              <option>29</option>
              <option>30</option>
              <option>31</option>
              <option>32</option>
            </select>
      </form>

    <p>Data source is a single Cloud Optimed Geotiff (EPSG:4326) file with multiple bands.</p>
    <p>Calling and rendering an appropriate viewport-defined subset of the raster file. (note the extreem bottom and right raster edge pixels are clipped - this is deliberate and stems from the viewport bounds never being a direct match to the pixels edges in the raster.)</p>
    <p>Changing the viewport (zoom/pan) fetches (using http range request) and renders a new viewport filtered raster sub-image.</p>
    <p>Allows for large, high resolution raster coverages to be used as a single 3d/4d filterable datastore (filter raster by resolution, viewport-width, viewport-height and band) to feed leaflet maps. Loading multiple layers offers potential for on-the fly raster calcs to be carried out in the client...</p>
    <!--leaflet-->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
    <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>

    <!--deps-->
    <script src="https://unpkg.com/geotiff@1.0.0-beta.7/dist/geotiff.bundle.js"></script>
    <script src="https://unpkg.com/plotty@0.4.4/dist/plotty.min.js"></script>

    <!--the plugin-->
    <script src="../dist/leaflet-geotiff.js"></script>
    <script src="../dist/leaflet-geotiff-plotty.js"></script>
    <script src="../dist/leaflet-geotiff-vector-arrows.js"></script>

    <!--demo stuff-->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="demo.css" />
    <script src="demo.js"></script>
  </body>
</html>
